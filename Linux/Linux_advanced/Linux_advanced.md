# **Linux\_advanced**

**Вопрос 1**

Вы просматриваете журнал /var/log/syslog и замечаете следующее сообщение ядра: kernel: TCP: Possible SYN flooding on port 80\.

Как можно интерпретировать это предупреждение?

1. Сетевой интерфейс перегружен входящими соединениями  
2. Служба SSH работает с ошибками авторизации  
3. Процессор перегружен вычислительными задачами  
4. Система испытывает нехватку дискового пространства  
5. Принтер отправляет большое количество заданий на печать

**Вопрос 2**

Какой командой в Linux можно отфильтровать в реальном времени только сообщения уровня ERROR из журналов systemd?

1. dmesg | grep ERROR  
2. journalctl \-p 7 \-f  
3. journalctl \-p 3 \-f  
4. systemctl list-units  
5. journalctl \-p 5 \-f

**Вопрос 3**

В каталоге находятся файлы с именами: file1.txt, file2.txt, file3.txt, file with spaces.txt

Рассмотрите следующий скрипт, в котором список файлов задан вручную через переменную files.

Какая ошибка в нём приводит к некорректной обработке файлов с пробелами в именах?

1 \#\!/bin/bash  
2 files="file1.txt file2.txt file3.txt file with spaces.txt"  
3 for f in $files  
4 do  
5   echo "Processing $f"  
6   cat "$f"  
7 done

1. Используется неверный тип данных для хранения  
2. Пробелы не экранированы в списке файлов  
3. Не установлен IFS=$'\\n' перед циклом  
4. Не отключено расширение шаблонов (globbing)  
5. Не обёрнуты значения переменной $files в кавычки

**Вопрос 4**

Вы хотите создать скрипт, который выводит по одному имени на строку всех файлов в текущем каталоге, начинающихся на file и заканчивающихся на .txt. Какой фрагмент кода нужно использовать?

1. for file in file\*.txt ; do echo " $file " ; done  
2. for file in file?.txt ; do echo " $file " ; done  
3. for file in \*.txt ; do echo " $file " ; done  
4. for file in file.".txt ; do echo " $file " ; done  
5. For file in file\*.text ; do echo " $file " ; done

**Вопрос 5**

Вы анализируете конфигурацию Nginx, который размещён на публичном веб\-сервере. Ниже приведён фрагмент файла /etc/nginx/sites-enabled/default:

1 server {  
2   listen 80 default\_server;  
3   server\_name example.com;  
4   root /var/www/html;  
5   index index.php index.html index.htm;  
6   location / {  
7     autoindex on;  
8     try\_files $uri $uri/ \=404;  
9   }  
10   location \~ \\.php$ {  
11     include snippets/fastcgi-php.conf;  
12     fastcgi\_pass unix:/run/php/php8.1-fpm.sock;  
13   }  
14 }

Какая наиболее существенная проблема безопасности содержится в этой конфигурации?

1. Сервер обслуживает только example.com, поэтому остальные запросы будут отклонены  
2. Используется Unix-сокет для PHP вместо TCP-порта, что небезопасно в продакшене  
3. Отсутствует ограничение доступа к PHP-файлам, что позволяет выполнять произвольный код  
4. Неверно настроена директива try\_files, что может вызвать ошибки 500  
5. autoindex on раскрывает структуру директорий сервера при отсутствии index-файлов

**Вопрос 6**

После внесения изменений в файл /etc/nginx/nginx.conf, вы хотите, чтобы новая конфигурация вступила в силу немедленно, но при этом:

* не было разрыва активных соединений,  
* не прерывались запросы в процессе обработки,  
* и были зарегистрированы возможные ошибки конфигурации.

Какое действие следует предпринять?

1. Выполнить systemctl daemon-reexec nginx  
2. Выполнить systemctl reload nginx  
3. Убить процесс master с помощью kill \-HUP $(pidof nginx)  
4. Выполнить systemctl restart nginx  
5. Выполнить nginx \-s stop && nginx

**Вопрос 7**

Вы анализируете нагрузку на сервер. Выполнение команды top дало следующий результат:

%Cpu(s): 3.0 us, 1.0 sy, 0.0 ni, 85.0 id, 0.0 wa, 0.0 hi, 0.0 si, 11.0 st

Через 10 секунд вы повторили команду и получили:

%Cpu(s): 5.0 us, 3.0 sy, 0.0 ni, 25.0 id, 0.0 wa, 0.0 hi, 0.0 si, 67.0 st

Что наиболее вероятно можно заключить по изменению состояния системы?

1. Растёт нагрузка от пользовательских приложений, но ресурсов всё ещё достаточно  
2. Система простаивает, ресурсов по-прежнему достаточно.  
3. Происходит утечка памяти, увеличивается использование swap  
4. Увеличилось количество системных вызовов и процессов, но система стабильна  
5. Виртуальная машина активно вытесняется гипервизором, и вычислительные ресурсы ограничены

**Вопрос 8**

На сервере наблюдается замедленная работа приложений. Вам нужно в реальном времени определить, какие процессы загружают процессор и сколько оперативной памяти используется. Какую команду следует применить?

1. du \-sh  
2. top  
3. grep cpuinfo  
4. ps aux  
5. df \-h

**Вопрос 9**

Вы анализируете задание в crontab:

30 2 \* \* 1-5 /usr/local/bin/backup.sh

Что выполняет это задание?

1. Скрипт выполняется каждый час в будние дни  
2. Скрипт выполняется каждый понедельник и пятницу.  
3. Скрипт выполняется в 2:30 ночи только по будням  
4. Скрипт выполняется каждый день в 2:30 ночи  
5. Скрипт выполняется каждую неделю в воскресенье

**Вопрос 10**

Вы настраиваете задачу с использованием systemd-таймера. Ниже представлен фрагмент конфигурации таймера:

1 \[Unit\]  
2 Description=Очистка логов  
3 \[Timer\]  
4 OnCalendar=\*-\*-\* 00:00:00  
5 Persistent=true  
6 \[Install\]  
7 WantedBy=timers.target

И соответствующий unit-файл:

1 \[Unit\]  
2 Description=Выполнение очистки логов  
3 \[Service\]  
4 Type=oneshot  
5 ExecStart=/opt/scripts/clear\_logs.sh

Что произойдёт, если сервер будет выключен в момент времени выполнения задачи (полночь) и будет включён в 08:00?

1. Таймер выполнит задачу сразу после включения сервера  
2. Задача будет запущена дважды — сразу и в полночь  
3. Ничего не произойдёт, потому что WantedBy=timers.target неактивен  
4. systemd выдаст ошибку о невозможности вычислить OnCalendar и таймер не запустится  
5. Таймер пропустит выполнение и запустится в следующую полночь

**Вопрос 11**

После обновления ядра и пакетов на сервере служба network перестала запускаться автоматически. При попытке вручную запустить службу network с помощью systemctl start network возникает ошибка:

Job for network.service failed because the control process exited with error code.

See "systemctl status network.service" and "journalctl \-xe" for details.

Команда systemctl status network.service показывает, что юнит существует, но не стартует.

Какова наиболее вероятная причина этой проблемы?

1. Файл конфигурации network.service повреждён или содержит ошибку синтаксиса  
2. Драйвер сетевой карты несовместим с новым ядром и не загружается автоматически  
3. Служба network конфликтует с новым системным менеджером NetworkManager, вызывая ошибку запуска  
4. В конфигурации systemd отсутствует корректная зависимость от загрузки модулей ядра  
5. Права доступа к файлам службы network.service были изменены, что препятствует её запуску

**Вопрос 12**

Вы хотите проверить, сколько времени заняла активация служб при старте системы. Какую команду следует использовать?

1. top  
2. dmesg  
3. journalctl \-xe  
4. systemd-analyze blame  
5. systemctl list-units

**Вопрос 13**

На сервере настроен OpenSSH с конфигурацией:

1 Port 7227  
2 PermitRootLogin no  
3 PasswordAuthentication no  
4 AuthenticationMethods publickey  
5 AllowGroups sshusers  
6 DenyUsers tempadmin  
7 Match Address 192.168.1.0/24  
8   PermitRootLogin yes  
9   AuthorizedKeysFile /etc/ssh/keys/root\_auth\_keys  
10 Match User tempadmin  
11   AuthenticationMethods publickey,password

Контрольная проверка выявила возможность неавторизованного доступа с повышенными привилегиями из доверенного сегмента.

Какой из вариантов лучше всего объясняет причину обнаруженной уязвимости?

1. Использование нестандартного файла AuthorizedKeysFile (/etc/ssh/keys/root\_auth\_keys) без корректных прав доступа может позволить неавторизованное использование ключей  
2. Правило AllowGroups sshusers разрешает доступ всем пользователям из этой группы, включая tempadmin, несмотря на директиву DenyUsers  
3. Сетевой блок Match Address позволяет root вход по ключу из внутренней сети, несмотря на глобальный запрет  
4. Глобальная директива PermitRootLogin no не гарантирует блокировку, если локальный Match Address разрешает root доступ, что создаёт конфликт приоритета настроек  
5. Для пользователя tempadmin задана двухфакторная аутентификация с publickey и паролем, при этом глобально отключена проверка пароля, что может привести к непредсказуемому обходу ограничений

**Вопрос 14**

На сервере с включённым SELinux приложение webapp запущено под собственным доменом webapp\_t. В конфигурации SELinux для webapp\_t разрешён доступ только к определённым файлам в каталоге /var/www/webapp, а также ограничены сетевые подключения. При этом в системе назначены Linux capabilities CAP\_NET\_BIND\_SERVICE и CAP\_DAC\_OVERRIDE для бинарника webapp.

При текущей конфигурации существует риск нарушения изоляции и несанкционированного доступа к критическим файлам вне разрешённого каталога.

Что из ниже перечисленного наиболее вероятно объясняет причину уязвимости?

1. Использование собственного домена webapp\_t полностью изолирует приложение, но назначение любых capabilities приводит к отключению SELinux для данного процесса  
2. SELinux ограничивает только доступ к файлам, а capabilities управляют только сетевыми ресурсами, следовательно риск нарушения изоляции исключён  
3. Разрешение CAP\_NET\_BIND\_SERVICE позволяет приложению прослушивать сетевые порты ниже 1024, что создаёт прямую уязвимость в SELinux политике  
4. Назначение CAP\_DAC\_OVERRIDE позволяет приложению обходить стандартные проверки прав доступа файловой системы, игнорируя ограничения SELinux на уровне DAC, что приводит к возможному доступу к файлам вне /var/www/webapp  
5. SELinux политика по умолчанию игнорирует права capabilities, поэтому назначение CAP\_DAC\_OVERRIDE не влияет на безопасность

**Вопрос 15**

Вы анализируете запись в /etc/fstab:

/dev/sdb1 /backup ext4 defaults 0 0

Что означает эта запись для проверки файловой системы при загрузке?

1. Проверка ограничится главной файловой системой  
2. Файловая система будет проверяться каждый раз  
3. Файловая система будет проверяться при сбоях  
4. Проверка файловой системы будет отключена  
5. Будет выполнена автоматическая проверка после загрузки

**Вопрос 16**

После монтирования новой файловой системы в /data ранее созданные файлы и каталоги в этом каталоге стали недоступны. Перед монтированием структура выглядела так:

1 /data/  
2 ├── app/  
3 └── config.yaml

Затем была выполнена команда:

1 mount /dev/sdb1 /data

После монтирования содержимое /data полностью изменилось.

Какой из следующих вариантов наилучшим образом объясняет ситуацию?

1. Каталог /data перекрыт точкой монтирования  
2. Данные из /data были удалены после монтирования  
3. mount автоматически переместил файлы из /data на новое устройство  
4. Без флага preserve mount стирает старое содержимое  
5. Старые данные были перенесены в /lost+found